import * as React from "react";
import { stages } from "./constants";
import { scaleLinear } from '@vx/scale';
import { extent } from 'd3-array';

const getMarkInfo = (mark) => {
  const opacity = mark.getAttribute("opacity");
  const strokeOpacity = mark.getAttribute("stroke-opacity");
  const stroke = mark.getAttribute("stroke");
  const strokeWidth = mark.getAttribute("stroke-width");
  const fill = mark.getAttribute("fill");

  if (mark.tagName === "rect") {
    const width = mark.getAttribute("width");
    if (width === "16") {
      return { stage: "datacenter", appear: true };
    } else if (width === "8") {
      return { stage: "cdn", appear: true };
    } else if (width === "4") {
      return { stage: "device", appear: true };
    } else if (strokeWidth === "4") {
      return { stage: "none", appear: true };
    }
  } else if (mark.tagName === "path") {
    if (stroke === "#363636") {
      if (strokeWidth === "3") {
        if (opacity === null) {
          return { stage: "internet", substage: 1, of: 2, draw: true };
        } else {
          return { stage: "internet", substage: 2, of: 2, draw: true };
        }
      } else {
        if (opacity === null) {
          return { stage: "residential", draw: true };
        } else {
          return { stage: "cellular", substage: 1, of: 6, draw: true };
        }
      }
    } else if (stroke === "#AFAFAF") {
      return { stage: "internet", substage: 1, of: 2, animate: true };
    } else if (fill === "white") {
      if (opacity === null) {
        return { stage: "datacenter", appear: true };
      } else if (opacity === "0.99") {
        return { stage: "cdn", appear: true };
      } else if (opacity === "0.98") {
        return { stage: "internet", appear: true };
      } else if (opacity === "0.97") {
        return { stage: "residential", appear: true };
      } else if (opacity === "0.96") {
        return { stage: "cellular", appear: true };
      } else {
        return { stage: "device", appear: true };
      }
    }
  } else if (mark.tagName === "circle") {
    let substage;
    if (strokeOpacity === null) {
      substage = 2;
    } else if (strokeOpacity === "0.25") {
      substage = 3;
    } else if (strokeOpacity === "0.24") {
      substage = 4;
    } else if (strokeOpacity === "0.23") {
      substage = 5;
    } else if (strokeOpacity === "0.22") {
      substage = 6;
    }
    return { stage: "cellular", substage, of: 6 };
  }
};

const getSubprogress = (progress, substage, substageOf) => {
  const div = 100 / substageOf;
  const start = div * (substage - 1);
  const subProgress = Math.min(Math.max(progress - start, 0) / div, 1);
  return subProgress;
};

export default class Graphic extends React.PureComponent {
  constructor(props) {
    super(props);

    this.marks = [];
  }

  componentDidMount() {
    const svg = document.getElementById("pipeline-graphic");

    const pathLengths = [];
    for (const e of svg.children) {
      const info = getMarkInfo(e);
      const ref = {
        element: e,
        ...info,
      };

      if (e.tagName === "path") {
        const pathLength = e.getTotalLength();
        e.setAttribute("stroke-dasharray", pathLength);
        e.setAttribute("stroke-dashoffset", pathLength);
        ref.pathLength = pathLength;

        if (ref.animate) {
          pathLengths.push(pathLength);
        }
      }

      if (info.appear) {
        e.style.transition = "opacity 200ms linear";
      }

      this.marks.push(ref);
    }

    const pathScale = scaleLinear({
      domain: extent(pathLengths),
      range: [0.5, 1.5]
    });

    for (const ref of this.marks) {
      if (ref.animate) {
        const e = ref.element;
        const strokeWidth = e.getAttribute("stroke-width");
        const pathLength = ref.pathLength;

        e.setAttribute(
          "stroke-dasharray",
          `${strokeWidth} ${pathLength - strokeWidth}`
        );
        e.setAttribute("data-length", pathLength);
        e.style.animationDelay = Math.random() + 's';
        e.style.animationDuration = pathScale(pathLength) + 's';
        e.classList.add("packet-animated");
      }
    }

    console.log(this.marks);
    this.redraw();
  }

  componentDidUpdate() {
    this.redraw();
  }

  redraw() {
    const currentStage = this.props.stage;

    const progress = this.props.progress;
    const currentStageIndex = stages.indexOf(currentStage);

    for (const m of this.marks) {
      const e = m.element;
      const visible = stages.indexOf(m.stage) <= currentStageIndex;

      if (m.draw) {
        if (m.stage === currentStage) {
          if (m.substage) {
            const subprog = getSubprogress(progress, m.substage, m.of);
            e.setAttribute(
              "stroke-dashoffset",
              m.pathLength - m.pathLength * subprog
            );
          } else {
            e.setAttribute(
              "stroke-dashoffset",
              m.pathLength - m.pathLength * (progress / 100)
            );
          }
        } else {
          e.setAttribute("stroke-dashoffset", visible ? 0 : m.pathLength);
        }
      } else {
        let opacity;
        if (m.stage === currentStage && m.substage) {
          const subprog = getSubprogress(progress, m.substage, m.of);
          opacity = visible ? subprog : 0;
        } else {
          opacity = visible ? 1 : 0;
        }
        e.style.opacity = opacity;
      }
    }
  }

  render() {
    return (
      <svg
        id="pipeline-graphic"
        width="375"
        height="288"
        viewBox="0 0 375 288"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <rect x="180" y="125" width="16" height="16" fill="#D1FF99" />
        <rect x="196" y="65" width="8" height="8" fill="#D4FFA0" />
        <rect x="142" y="75" width="8" height="8" fill="#D4FFA0" />
        <rect x="109" y="107" width="8" height="8" fill="#D4FFA0" />
        <rect x="240" y="199" width="8" height="8" fill="#D4FFA0" />
        <rect x="146" y="182" width="8" height="8" fill="#D4FFA0" />
        <rect x="252" y="114" width="8" height="8" fill="#D4FFA0" />
        <rect x="282" y="50" width="8" height="8" fill="#D4FFA0" />
        <rect x="217" y="10" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="326" y="89" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="332" y="203" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="276" y="283" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="319" y="263" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="258" y="228" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="282" y="212" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="26" y="100" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="82" y="79" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="80" y="199" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="100" y="155" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="107" y="52" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="43" y="236" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="307" y="24" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="148" y="20" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="41" y="140" width="4" height="4" rx="2" fill="#DEFFB6" />
        <rect x="209" y="236" width="8" height="8" fill="#D4FFA0" />
        <path d="M196 136H237.874V118H252" stroke="#363636" stroke-width="3" />
        <path d="M196 131H226.678V54H282" stroke="#363636" stroke-width="3" />
        <path
          d="M190 125V92.292H216V69H204"
          stroke="#363636"
          stroke-width="3"
        />
        <path
          d="M185 125V104.556H164.412V79H150"
          stroke="#363636"
          stroke-width="3"
        />
        <path
          opacity="0.99"
          d="M146 75V69H196"
          stroke="#363636"
          stroke-width="3"
        />
        <path d="M180 131H136.5V111H117" stroke="#363636" stroke-width="3" />
        <path
          d="M180 136H166.034V148.5H150V182"
          stroke="#363636"
          stroke-width="3"
        />
        <path d="M185 141V200H213V236" stroke="#363636" stroke-width="3" />
        <path d="M190 141V158.5H244V199" stroke="#363636" stroke-width="3" />
        <path
          opacity="0.99"
          d="M240 203H225.319V240H217"
          stroke="#363636"
          stroke-width="3"
        />
        <path
          opacity="0.99"
          d="M109 111H53.9076V79H0"
          stroke="#363636"
          stroke-width="3"
        />
        <path
          opacity="0.99"
          d="M260 118H336V162.5H375"
          stroke="#363636"
          stroke-width="3"
        />
        <path
          opacity="0.99"
          d="M248 203H286V180H374.5"
          stroke="#363636"
          stroke-width="3"
        />
        <path
          opacity="0.99"
          d="M146 186H-0.5"
          stroke="#363636"
          stroke-width="3"
        />
        <path
          opacity="0.99"
          d="M209 240H136.5V220H0"
          stroke="#363636"
          stroke-width="3"
        />
        <path
          opacity="0.99"
          d="M290 54H317.5V73H375"
          stroke="#363636"
          stroke-width="3"
        />
        <path
          opacity="0.99"
          d="M142 79H120.5V65H0"
          stroke="#363636"
          stroke-width="3"
        />
        <path
          opacity="0.99"
          d="M200 65V37.5H91.5V52H0"
          stroke="#363636"
          stroke-width="3"
        />
        <path d="M67.5 112.5V142H45" stroke="#363636" />
        <path d="M52.5 102H30" stroke="#363636" />
        <path d="M84 66.5V79" stroke="#363636" />
        <path d="M109 63.5V56" stroke="#363636" />
        <path d="M150 36V24" stroke="#363636" />
        <path d="M201 43H219V14" stroke="#363636" />
        <path d="M309 52.5V28" stroke="#363636" />
        <path d="M328 74.5V89" stroke="#363636" />
        <path d="M82 187.5V199" stroke="#363636" />
        <path d="M45 221.5V236" stroke="#363636" />
        <path d="M102 184.5V159" stroke="#363636" />
        <path opacity="0.99" d="M311 181.5V220" stroke="#363636" />
        <path d="M196 136H237.874V118H252" stroke="#AFAFAF" stroke-width="5" />
        <path d="M196 131H226.678V54H282" stroke="#AFAFAF" stroke-width="5" />
        <path
          d="M190 125V92.292H216V69H204"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path
          d="M185 125V104.556H164.412V79H150"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path
          opacity="0.99"
          d="M146 75V69H196"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path d="M180 131H136.5V111H117" stroke="#AFAFAF" stroke-width="5" />
        <path
          d="M180 136H166.034V148.5H150V182"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path d="M185 141V200H213V236" stroke="#AFAFAF" stroke-width="5" />
        <path d="M190 141V158.5H244V199" stroke="#AFAFAF" stroke-width="5" />
        <path
          opacity="0.99"
          d="M240 203H225.319V240H217"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path
          opacity="0.99"
          d="M109 111H53.9076V79H0"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path
          opacity="0.99"
          d="M260 118H336V162.5H375"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path
          opacity="0.99"
          d="M248 203H286V180H374.5"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path
          opacity="0.99"
          d="M146 186H-0.5"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path
          opacity="0.99"
          d="M209 240H136.5V220H0"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path
          opacity="0.99"
          d="M290 54H317.5V73H375"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path
          opacity="0.99"
          d="M142 79H120.5V65H0"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path
          opacity="0.99"
          d="M200 65V37.5H91.5V52H0"
          stroke="#AFAFAF"
          stroke-width="5"
        />
        <path d="M67.5 112.5V142H45" stroke="#AFAFAF" stroke-width="3" />
        <path d="M52.5 102H30" stroke="#AFAFAF" stroke-width="3" />
        <path d="M84 66.5V79" stroke="#AFAFAF" stroke-width="3" />
        <path d="M109 63.5V56" stroke="#AFAFAF" stroke-width="3" />
        <path d="M150 36V24" stroke="#AFAFAF" stroke-width="3" />
        <path d="M201 43H219V14" stroke="#AFAFAF" stroke-width="3" />
        <path d="M309 52.5V28" stroke="#AFAFAF" stroke-width="3" />
        <path d="M328 74.5V89" stroke="#AFAFAF" stroke-width="3" />
        <path d="M82 187.5V199" stroke="#AFAFAF" stroke-width="3" />
        <path d="M45 221.5V236" stroke="#AFAFAF" stroke-width="3" />
        <path d="M102 184.5V159" stroke="#AFAFAF" stroke-width="3" />
        <path
          opacity="0.99"
          d="M311 181.5V220"
          stroke="#AFAFAF"
          stroke-width="3"
        />
        <circle cx="311" cy="224" r="4" fill="#363636" />
        <circle
          cx="311"
          cy="224"
          r="7.5"
          stroke="white"
          stroke-opacity="0.25"
        />
        <circle
          cx="311"
          cy="224"
          r="20.5"
          stroke="white"
          stroke-opacity="0.24"
        />
        <circle
          cx="311"
          cy="224"
          r="36.5"
          stroke="white"
          stroke-opacity="0.23"
        />
        <circle
          cx="311"
          cy="224"
          r="57.5"
          stroke="white"
          stroke-opacity="0.22"
        />
        <path
          d="M161.75 114.42V110.43H162.2C163.44 110.43 163.98 111.01 163.98 112.37V112.45C163.98 113.78 163.44 114.42 162.22 114.42H161.75ZM159.69 116H162.28C164.8 116 166.12 114.65 166.12 112.42V112.34C166.12 110.12 164.83 108.85 162.29 108.85H159.69V116ZM168.383 116.12C169.223 116.12 169.683 115.77 169.933 115.39V116H171.673V112.61C171.673 111.22 170.753 110.63 169.313 110.63C167.883 110.63 166.893 111.25 166.813 112.51H168.493C168.533 112.18 168.713 111.89 169.203 111.89C169.773 111.89 169.893 112.22 169.893 112.72V112.84H169.393C167.653 112.84 166.613 113.32 166.613 114.55C166.613 115.66 167.443 116.12 168.383 116.12ZM169.003 114.91C168.583 114.91 168.383 114.72 168.383 114.42C168.383 113.99 168.703 113.85 169.423 113.85H169.893V114.17C169.893 114.62 169.513 114.91 169.003 114.91ZM174.725 116.12C175.145 116.12 175.485 116.03 175.715 115.97V114.61C175.555 114.67 175.405 114.7 175.205 114.7C174.865 114.7 174.675 114.53 174.675 114.15V111.99H175.705V110.77H174.675V109.68H172.885V110.77H172.255V111.99H172.885V114.32C172.885 115.55 173.545 116.12 174.725 116.12ZM178.002 116.12C178.842 116.12 179.302 115.77 179.552 115.39V116H181.292V112.61C181.292 111.22 180.372 110.63 178.932 110.63C177.502 110.63 176.512 111.25 176.432 112.51H178.112C178.152 112.18 178.332 111.89 178.822 111.89C179.392 111.89 179.512 112.22 179.512 112.72V112.84H179.012C177.272 112.84 176.232 113.32 176.232 114.55C176.232 115.66 177.062 116.12 178.002 116.12ZM178.622 114.91C178.202 114.91 178.002 114.72 178.002 114.42C178.002 113.99 178.322 113.85 179.042 113.85H179.512V114.17C179.512 114.62 179.132 114.91 178.622 114.91ZM187.806 116.12C189.656 116.12 190.996 115.16 191.136 113.31H189.096C188.996 114.1 188.486 114.48 187.766 114.48C186.786 114.48 186.236 113.75 186.236 112.46V112.38C186.236 111.08 186.816 110.36 187.736 110.36C188.456 110.36 188.856 110.76 188.936 111.49H191.046C190.876 109.6 189.586 108.74 187.726 108.74C185.636 108.74 184.076 110.19 184.076 112.39V112.47C184.076 114.66 185.306 116.12 187.806 116.12ZM194.483 116.12C196.063 116.12 196.973 115.45 197.133 114.27H195.453C195.383 114.62 195.133 114.89 194.543 114.89C193.903 114.89 193.503 114.49 193.453 113.8H197.133V113.33C197.133 111.45 195.903 110.63 194.473 110.63C192.893 110.63 191.643 111.69 191.643 113.37V113.45C191.643 115.16 192.843 116.12 194.483 116.12ZM193.473 112.79C193.563 112.16 193.933 111.81 194.473 111.81C195.053 111.81 195.363 112.16 195.393 112.79H193.473ZM197.899 116H199.689V113.07C199.689 112.4 200.049 112.08 200.579 112.08C201.099 112.08 201.329 112.37 201.329 112.96V116H203.119V112.6C203.119 111.26 202.419 110.63 201.409 110.63C200.539 110.63 199.969 111.07 199.689 111.61V110.77H197.899V116ZM206.219 116.12C206.639 116.12 206.979 116.03 207.209 115.97V114.61C207.049 114.67 206.899 114.7 206.699 114.7C206.359 114.7 206.169 114.53 206.169 114.15V111.99H207.199V110.77H206.169V109.68H204.379V110.77H203.749V111.99H204.379V114.32C204.379 115.55 205.039 116.12 206.219 116.12ZM210.586 116.12C212.166 116.12 213.076 115.45 213.236 114.27H211.556C211.486 114.62 211.236 114.89 210.646 114.89C210.006 114.89 209.606 114.49 209.556 113.8H213.236V113.33C213.236 111.45 212.006 110.63 210.576 110.63C208.996 110.63 207.746 111.69 207.746 113.37V113.45C207.746 115.16 208.946 116.12 210.586 116.12ZM209.576 112.79C209.666 112.16 210.036 111.81 210.576 111.81C211.156 111.81 211.466 112.16 211.496 112.79H209.576ZM214.003 116H215.793V113.52C215.793 112.68 216.393 112.34 217.483 112.37V110.7C216.673 110.69 216.123 111.03 215.793 111.81V110.77H214.003V116Z"
          fill="white"
        />
        <path
          opacity="0.98"
          d="M147.06 230H149.12V224.43H150.97V222.85H145.21V224.43H147.06V230ZM151.712 230H153.502V227.07C153.502 226.4 153.862 226.08 154.392 226.08C154.912 226.08 155.142 226.37 155.142 226.96V230H156.932V226.6C156.932 225.26 156.232 224.63 155.222 224.63C154.352 224.63 153.782 225.07 153.502 225.61V222.47H151.712V230ZM160.512 230.12C162.092 230.12 163.002 229.45 163.162 228.27H161.482C161.412 228.62 161.162 228.89 160.572 228.89C159.932 228.89 159.532 228.49 159.482 227.8H163.162V227.33C163.162 225.45 161.932 224.63 160.502 224.63C158.922 224.63 157.672 225.69 157.672 227.37V227.45C157.672 229.16 158.872 230.12 160.512 230.12ZM159.502 226.79C159.592 226.16 159.962 225.81 160.502 225.81C161.082 225.81 161.392 226.16 161.422 226.79H159.502ZM166.101 230H168.171V222.85H166.101V230ZM169.417 230H171.207V227.07C171.207 226.4 171.567 226.08 172.097 226.08C172.617 226.08 172.847 226.37 172.847 226.96V230H174.637V226.6C174.637 225.26 173.937 224.63 172.927 224.63C172.057 224.63 171.487 225.07 171.207 225.61V224.77H169.417V230ZM177.737 230.12C178.157 230.12 178.497 230.03 178.727 229.97V228.61C178.567 228.67 178.417 228.7 178.217 228.7C177.877 228.7 177.687 228.53 177.687 228.15V225.99H178.717V224.77H177.687V223.68H175.897V224.77H175.267V225.99H175.897V228.32C175.897 229.55 176.557 230.12 177.737 230.12ZM182.104 230.12C183.684 230.12 184.594 229.45 184.754 228.27H183.074C183.004 228.62 182.754 228.89 182.164 228.89C181.524 228.89 181.124 228.49 181.074 227.8H184.754V227.33C184.754 225.45 183.524 224.63 182.094 224.63C180.514 224.63 179.264 225.69 179.264 227.37V227.45C179.264 229.16 180.464 230.12 182.104 230.12ZM181.094 226.79C181.184 226.16 181.554 225.81 182.094 225.81C182.674 225.81 182.984 226.16 183.014 226.79H181.094ZM185.52 230H187.31V227.52C187.31 226.68 187.91 226.34 189 226.37V224.7C188.19 224.69 187.64 225.03 187.31 225.81V224.77H185.52V230ZM189.798 230H191.588V227.07C191.588 226.4 191.948 226.08 192.478 226.08C192.998 226.08 193.228 226.37 193.228 226.96V230H195.018V226.6C195.018 225.26 194.318 224.63 193.308 224.63C192.438 224.63 191.868 225.07 191.588 225.61V224.77H189.798V230ZM198.598 230.12C200.178 230.12 201.088 229.45 201.248 228.27H199.568C199.498 228.62 199.248 228.89 198.658 228.89C198.018 228.89 197.618 228.49 197.568 227.8H201.248V227.33C201.248 225.45 200.018 224.63 198.588 224.63C197.008 224.63 195.758 225.69 195.758 227.37V227.45C195.758 229.16 196.958 230.12 198.598 230.12ZM197.588 226.79C197.678 226.16 198.048 225.81 198.588 225.81C199.168 225.81 199.478 226.16 199.508 226.79H197.588ZM204.094 230.12C204.514 230.12 204.854 230.03 205.084 229.97V228.61C204.924 228.67 204.774 228.7 204.574 228.7C204.234 228.7 204.044 228.53 204.044 228.15V225.99H205.074V224.77H204.044V223.68H202.254V224.77H201.624V225.99H202.254V228.32C202.254 229.55 202.914 230.12 204.094 230.12Z"
          fill="white"
        />
        <path
          opacity="0.99"
          d="M103.05 100.12C104.9 100.12 106.24 99.16 106.38 97.31H104.34C104.24 98.1 103.73 98.48 103.01 98.48C102.03 98.48 101.48 97.75 101.48 96.46V96.38C101.48 95.08 102.06 94.36 102.98 94.36C103.7 94.36 104.1 94.76 104.18 95.49H106.29C106.12 93.6 104.83 92.74 102.97 92.74C100.88 92.74 99.32 94.19 99.32 96.39V96.47C99.32 98.66 100.55 100.12 103.05 100.12ZM109.338 98.42V94.43H109.788C111.028 94.43 111.568 95.01 111.568 96.37V96.45C111.568 97.78 111.028 98.42 109.808 98.42H109.338ZM107.278 100H109.868C112.388 100 113.708 98.65 113.708 96.42V96.34C113.708 94.12 112.418 92.85 109.878 92.85H107.278V100ZM114.71 100H116.51V95.51L119.12 100H121.1V92.85H119.31V96.88L117.02 92.85H114.71V100ZM124.373 100.12C125.823 100.12 126.743 99.56 126.743 98.32C126.743 97.2 126.043 96.82 124.593 96.64C123.953 96.56 123.713 96.46 123.713 96.21C123.713 95.97 123.913 95.8 124.303 95.8C124.713 95.8 124.903 95.97 124.973 96.32H126.593C126.473 95.07 125.573 94.63 124.283 94.63C123.073 94.63 122.043 95.19 122.043 96.35C122.043 97.44 122.633 97.85 124.033 98.03C124.753 98.13 125.003 98.25 125.003 98.5C125.003 98.76 124.803 98.93 124.363 98.93C123.853 98.93 123.683 98.72 123.623 98.34H121.973C122.013 99.5 122.883 100.12 124.373 100.12Z"
          fill="white"
        />
        <path
          opacity="0.97"
          d="M41.69 158H43.73V155.44H44.21L45.66 158H47.82L46.11 155.04C46.86 154.75 47.4 154.18 47.4 153.16V153.12C47.4 151.61 46.36 150.85 44.49 150.85H41.69V158ZM43.73 154.11V152.39H44.4C45.06 152.39 45.42 152.62 45.42 153.2V153.24C45.42 153.82 45.08 154.11 44.39 154.11H43.73ZM50.8088 158.12C52.3888 158.12 53.2988 157.45 53.4588 156.27H51.7788C51.7088 156.62 51.4588 156.89 50.8688 156.89C50.2288 156.89 49.8288 156.49 49.7788 155.8H53.4588V155.33C53.4588 153.45 52.2288 152.63 50.7988 152.63C49.2188 152.63 47.9688 153.69 47.9688 155.37V155.45C47.9688 157.16 49.1688 158.12 50.8088 158.12ZM49.7988 154.79C49.8888 154.16 50.2588 153.81 50.7988 153.81C51.3788 153.81 51.6888 154.16 51.7188 154.79H49.7988ZM56.3241 158.12C57.7741 158.12 58.6941 157.56 58.6941 156.32C58.6941 155.2 57.9941 154.82 56.5441 154.64C55.9041 154.56 55.6641 154.46 55.6641 154.21C55.6641 153.97 55.8641 153.8 56.2541 153.8C56.6641 153.8 56.8541 153.97 56.9241 154.32H58.5441C58.4241 153.07 57.5241 152.63 56.2341 152.63C55.0241 152.63 53.9941 153.19 53.9941 154.35C53.9941 155.44 54.5841 155.85 55.9841 156.03C56.7041 156.13 56.9541 156.25 56.9541 156.5C56.9541 156.76 56.7541 156.93 56.3141 156.93C55.8041 156.93 55.6341 156.72 55.5741 156.34H53.9241C53.9641 157.5 54.8341 158.12 56.3241 158.12ZM59.4706 158H61.2606V152.77H59.4706V158ZM60.3606 152.27C60.9206 152.27 61.3506 151.88 61.3506 151.35C61.3506 150.82 60.9206 150.42 60.3606 150.42C59.8006 150.42 59.3806 150.82 59.3806 151.35C59.3806 151.88 59.8006 152.27 60.3606 152.27ZM64.3098 158.12C65.0998 158.12 65.6798 157.69 65.9398 157.15V158H67.7298V150.47H65.9398V153.51C65.6398 152.98 65.1498 152.63 64.3298 152.63C63.0898 152.63 62.1098 153.58 62.1098 155.36V155.44C62.1098 157.25 63.0998 158.12 64.3098 158.12ZM64.9398 156.75C64.3198 156.75 63.9298 156.3 63.9298 155.42V155.34C63.9298 154.43 64.2898 153.98 64.9598 153.98C65.6198 153.98 65.9898 154.45 65.9898 155.33V155.41C65.9898 156.3 65.5898 156.75 64.9398 156.75ZM71.3459 158.12C72.9259 158.12 73.8359 157.45 73.9959 156.27H72.3159C72.2459 156.62 71.9959 156.89 71.4059 156.89C70.7659 156.89 70.3659 156.49 70.3159 155.8H73.9959V155.33C73.9959 153.45 72.7659 152.63 71.3359 152.63C69.7559 152.63 68.5059 153.69 68.5059 155.37V155.45C68.5059 157.16 69.7059 158.12 71.3459 158.12ZM70.3359 154.79C70.4259 154.16 70.7959 153.81 71.3359 153.81C71.9159 153.81 72.2259 154.16 72.2559 154.79H70.3359ZM74.7624 158H76.5524V155.07C76.5524 154.4 76.9124 154.08 77.4424 154.08C77.9624 154.08 78.1924 154.37 78.1924 154.96V158H79.9824V154.6C79.9824 153.26 79.2824 152.63 78.2724 152.63C77.4024 152.63 76.8324 153.07 76.5524 153.61V152.77H74.7624V158ZM83.0827 158.12C83.5027 158.12 83.8427 158.03 84.0727 157.97V156.61C83.9127 156.67 83.7627 156.7 83.5627 156.7C83.2227 156.7 83.0327 156.53 83.0327 156.15V153.99H84.0627V152.77H83.0327V151.68H81.2427V152.77H80.6127V153.99H81.2427V156.32C81.2427 157.55 81.9027 158.12 83.0827 158.12ZM84.9394 158H86.7294V152.77H84.9394V158ZM85.8294 152.27C86.3894 152.27 86.8194 151.88 86.8194 151.35C86.8194 150.82 86.3894 150.42 85.8294 150.42C85.2694 150.42 84.8494 150.82 84.8494 151.35C84.8494 151.88 85.2694 152.27 85.8294 152.27ZM89.3086 158.12C90.1486 158.12 90.6086 157.77 90.8586 157.39V158H92.5986V154.61C92.5986 153.22 91.6786 152.63 90.2386 152.63C88.8086 152.63 87.8186 153.25 87.7386 154.51H89.4186C89.4586 154.18 89.6386 153.89 90.1286 153.89C90.6986 153.89 90.8186 154.22 90.8186 154.72V154.84H90.3186C88.5786 154.84 87.5386 155.32 87.5386 156.55C87.5386 157.66 88.3686 158.12 89.3086 158.12ZM89.9286 156.91C89.5086 156.91 89.3086 156.72 89.3086 156.42C89.3086 155.99 89.6286 155.85 90.3486 155.85H90.8186V156.17C90.8186 156.62 90.4386 156.91 89.9286 156.91ZM93.6698 158H95.4498V150.47H93.6698V158ZM41.69 169H43.49V164.51L46.1 169H48.08V161.85H46.29V165.88L44 161.85H41.69V169ZM51.8146 169.12C53.3946 169.12 54.3046 168.45 54.4646 167.27H52.7846C52.7146 167.62 52.4646 167.89 51.8746 167.89C51.2346 167.89 50.8346 167.49 50.7846 166.8H54.4646V166.33C54.4646 164.45 53.2346 163.63 51.8046 163.63C50.2246 163.63 48.9746 164.69 48.9746 166.37V166.45C48.9746 168.16 50.1746 169.12 51.8146 169.12ZM50.8046 165.79C50.8946 165.16 51.2646 164.81 51.8046 164.81C52.3846 164.81 52.6946 165.16 52.7246 165.79H50.8046ZM57.3112 169.12C57.7312 169.12 58.0712 169.03 58.3012 168.97V167.61C58.1412 167.67 57.9912 167.7 57.7912 167.7C57.4512 167.7 57.2612 167.53 57.2612 167.15V164.99H58.2912V163.77H57.2612V162.68H55.4712V163.77H54.8412V164.99H55.4712V167.32C55.4712 168.55 56.1312 169.12 57.3112 169.12ZM60.2579 169H61.9979L62.8079 166.08L63.5879 169H65.2979L66.9579 163.77H65.2579L64.4079 166.9L63.6279 163.77H62.1879L61.3079 166.9L60.5479 163.77H58.6779L60.2579 169ZM69.9013 167.79C69.2113 167.79 68.8613 167.3 68.8613 166.4V166.32C68.8613 165.44 69.2313 164.97 69.9013 164.97C70.5813 164.97 70.9313 165.46 70.9313 166.34V166.42C70.9313 167.29 70.5713 167.79 69.9013 167.79ZM69.8913 169.12C71.5013 169.12 72.7513 168.1 72.7513 166.4V166.32C72.7513 164.66 71.5113 163.63 69.9013 163.63C68.2813 163.63 67.0313 164.69 67.0313 166.37V166.45C67.0313 168.14 68.2813 169.12 69.8913 169.12ZM73.532 169H75.322V166.52C75.322 165.68 75.922 165.34 77.012 165.37V163.7C76.202 163.69 75.652 164.03 75.322 164.81V163.77H73.532V169ZM77.8093 169H79.5993V166.71L81.0093 169H83.0093L81.1593 166.12L82.8693 163.77H81.0093L79.5993 165.84V161.47H77.8093V169ZM85.4843 169.12C86.9343 169.12 87.8543 168.56 87.8543 167.32C87.8543 166.2 87.1543 165.82 85.7043 165.64C85.0643 165.56 84.8243 165.46 84.8243 165.21C84.8243 164.97 85.0243 164.8 85.4143 164.8C85.8243 164.8 86.0143 164.97 86.0843 165.32H87.7043C87.5843 164.07 86.6843 163.63 85.3943 163.63C84.1843 163.63 83.1543 164.19 83.1543 165.35C83.1543 166.44 83.7443 166.85 85.1443 167.03C85.8643 167.13 86.1143 167.25 86.1143 167.5C86.1143 167.76 85.9143 167.93 85.4743 167.93C84.9643 167.93 84.7943 167.72 84.7343 167.34H83.0843C83.1243 168.5 83.9943 169.12 85.4843 169.12Z"
          fill="white"
        />
        <path
          opacity="0.96"
          d="M271.05 245.12C272.9 245.12 274.24 244.16 274.38 242.31H272.34C272.24 243.1 271.73 243.48 271.01 243.48C270.03 243.48 269.48 242.75 269.48 241.46V241.38C269.48 240.08 270.06 239.36 270.98 239.36C271.7 239.36 272.1 239.76 272.18 240.49H274.29C274.12 238.6 272.83 237.74 270.97 237.74C268.88 237.74 267.32 239.19 267.32 241.39V241.47C267.32 243.66 268.55 245.12 271.05 245.12ZM277.727 245.12C279.307 245.12 280.217 244.45 280.377 243.27H278.697C278.627 243.62 278.377 243.89 277.787 243.89C277.147 243.89 276.747 243.49 276.697 242.8H280.377V242.33C280.377 240.45 279.147 239.63 277.717 239.63C276.137 239.63 274.887 240.69 274.887 242.37V242.45C274.887 244.16 276.087 245.12 277.727 245.12ZM276.717 241.79C276.807 241.16 277.177 240.81 277.717 240.81C278.297 240.81 278.607 241.16 278.637 241.79H276.717ZM281.193 245H282.973V237.47H281.193V245ZM284.133 245H285.913V237.47H284.133V245ZM288.742 245.12C289.612 245.12 290.122 244.73 290.402 244.19V245H292.192V239.77H290.402V242.78C290.402 243.45 290.052 243.77 289.512 243.77C289.002 243.77 288.772 243.48 288.772 242.89V239.77H286.982V243.18C286.982 244.5 287.732 245.12 288.742 245.12ZM293.303 245H295.083V237.47H293.303V245ZM297.662 245.12C298.502 245.12 298.962 244.77 299.212 244.39V245H300.952V241.61C300.952 240.22 300.032 239.63 298.592 239.63C297.162 239.63 296.172 240.25 296.092 241.51H297.772C297.812 241.18 297.992 240.89 298.482 240.89C299.052 240.89 299.172 241.22 299.172 241.72V241.84H298.672C296.932 241.84 295.892 242.32 295.892 243.55C295.892 244.66 296.722 245.12 297.662 245.12ZM298.282 243.91C297.862 243.91 297.662 243.72 297.662 243.42C297.662 242.99 297.982 242.85 298.702 242.85H299.172V243.17C299.172 243.62 298.792 243.91 298.282 243.91ZM301.973 245H303.763V242.52C303.763 241.68 304.363 241.34 305.453 241.37V239.7C304.643 239.69 304.093 240.03 303.763 240.81V239.77H301.973V245ZM308.383 245H310.183V240.51L312.793 245H314.773V237.85H312.983V241.88L310.693 237.85H308.383V245ZM318.508 245.12C320.088 245.12 320.998 244.45 321.158 243.27H319.478C319.408 243.62 319.158 243.89 318.568 243.89C317.928 243.89 317.528 243.49 317.478 242.8H321.158V242.33C321.158 240.45 319.928 239.63 318.498 239.63C316.918 239.63 315.668 240.69 315.668 242.37V242.45C315.668 244.16 316.868 245.12 318.508 245.12ZM317.498 241.79C317.588 241.16 317.958 240.81 318.498 240.81C319.078 240.81 319.388 241.16 319.418 241.79H317.498ZM324.005 245.12C324.425 245.12 324.765 245.03 324.995 244.97V243.61C324.835 243.67 324.685 243.7 324.485 243.7C324.145 243.7 323.955 243.53 323.955 243.15V240.99H324.985V239.77H323.955V238.68H322.165V239.77H321.535V240.99H322.165V243.32C322.165 244.55 322.825 245.12 324.005 245.12ZM326.951 245H328.691L329.501 242.08L330.281 245H331.991L333.651 239.77H331.951L331.101 242.9L330.321 239.77H328.881L328.001 242.9L327.241 239.77H325.371L326.951 245ZM336.595 243.79C335.905 243.79 335.555 243.3 335.555 242.4V242.32C335.555 241.44 335.925 240.97 336.595 240.97C337.275 240.97 337.625 241.46 337.625 242.34V242.42C337.625 243.29 337.265 243.79 336.595 243.79ZM336.585 245.12C338.195 245.12 339.445 244.1 339.445 242.4V242.32C339.445 240.66 338.205 239.63 336.595 239.63C334.975 239.63 333.725 240.69 333.725 242.37V242.45C333.725 244.14 334.975 245.12 336.585 245.12ZM340.225 245H342.015V242.52C342.015 241.68 342.615 241.34 343.705 241.37V239.7C342.895 239.69 342.345 240.03 342.015 240.81V239.77H340.225V245ZM344.503 245H346.293V242.71L347.703 245H349.703L347.853 242.12L349.563 239.77H347.703L346.293 241.84V237.47H344.503V245ZM352.178 245.12C353.628 245.12 354.548 244.56 354.548 243.32C354.548 242.2 353.848 241.82 352.398 241.64C351.758 241.56 351.518 241.46 351.518 241.21C351.518 240.97 351.718 240.8 352.108 240.8C352.518 240.8 352.708 240.97 352.778 241.32H354.398C354.278 240.07 353.378 239.63 352.088 239.63C350.878 239.63 349.848 240.19 349.848 241.35C349.848 242.44 350.438 242.85 351.838 243.03C352.558 243.13 352.808 243.25 352.808 243.5C352.808 243.76 352.608 243.93 352.168 243.93C351.658 243.93 351.488 243.72 351.428 243.34H349.778C349.818 244.5 350.688 245.12 352.178 245.12Z"
          fill="white"
        />
        <path
          opacity="0.95"
          d="M291.75 16.42V12.43H292.2C293.44 12.43 293.98 13.01 293.98 14.37V14.45C293.98 15.78 293.44 16.42 292.22 16.42H291.75ZM289.69 18H292.28C294.8 18 296.12 16.65 296.12 14.42V14.34C296.12 12.12 294.83 10.85 292.29 10.85H289.69V18ZM299.522 18.12C301.102 18.12 302.012 17.45 302.172 16.27H300.492C300.422 16.62 300.172 16.89 299.582 16.89C298.942 16.89 298.542 16.49 298.492 15.8H302.172V15.33C302.172 13.45 300.942 12.63 299.512 12.63C297.932 12.63 296.682 13.69 296.682 15.37V15.45C296.682 17.16 297.882 18.12 299.522 18.12ZM298.512 14.79C298.602 14.16 298.972 13.81 299.512 13.81C300.092 13.81 300.402 14.16 300.432 14.79H298.512ZM304.213 18H306.163L308.073 12.77H306.363L305.293 16.14L304.203 12.77H302.293L304.213 18ZM308.721 18H310.511V12.77H308.721V18ZM309.611 12.27C310.171 12.27 310.601 11.88 310.601 11.35C310.601 10.82 310.171 10.42 309.611 10.42C309.051 10.42 308.631 10.82 308.631 11.35C308.631 11.88 309.051 12.27 309.611 12.27ZM314.09 18.12C315.78 18.12 316.67 17.26 316.72 15.94H315.11C315.05 16.51 314.7 16.81 314.2 16.81C313.52 16.81 313.17 16.34 313.17 15.43V15.35C313.17 14.47 313.54 14.02 314.17 14.02C314.69 14.02 314.93 14.29 315.01 14.78H316.69C316.59 13.19 315.41 12.63 314.13 12.63C312.59 12.63 311.34 13.63 311.34 15.37V15.45C311.34 17.21 312.53 18.12 314.09 18.12ZM320.01 18.12C321.59 18.12 322.5 17.45 322.66 16.27H320.98C320.91 16.62 320.66 16.89 320.07 16.89C319.43 16.89 319.03 16.49 318.98 15.8H322.66V15.33C322.66 13.45 321.43 12.63 320 12.63C318.42 12.63 317.17 13.69 317.17 15.37V15.45C317.17 17.16 318.37 18.12 320.01 18.12ZM319 14.79C319.09 14.16 319.46 13.81 320 13.81C320.58 13.81 320.89 14.16 320.92 14.79H319ZM325.525 18.12C326.975 18.12 327.895 17.56 327.895 16.32C327.895 15.2 327.195 14.82 325.745 14.64C325.105 14.56 324.865 14.46 324.865 14.21C324.865 13.97 325.065 13.8 325.455 13.8C325.865 13.8 326.055 13.97 326.125 14.32H327.745C327.625 13.07 326.725 12.63 325.435 12.63C324.225 12.63 323.195 13.19 323.195 14.35C323.195 15.44 323.785 15.85 325.185 16.03C325.905 16.13 326.155 16.25 326.155 16.5C326.155 16.76 325.955 16.93 325.515 16.93C325.005 16.93 324.835 16.72 324.775 16.34H323.125C323.165 17.5 324.035 18.12 325.525 18.12Z"
          fill="white"
        />
        <rect
          x="2"
          y="2"
          width="371"
          height="284"
          stroke="#363636"
          stroke-width="4"
        />
      </svg>
    );
  }
}
